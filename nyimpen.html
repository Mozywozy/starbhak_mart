<script>
    $(document).ready(function () {
        // Definisi itemnya
        $("#cartKiri").hide();
        
        var itemDetails = {
            name: "Hot Dog Special",
            price: 40000
        };


        // Button clik 
        $("#btnAdd").click(function () {
            // Update the cart on the left side
            $("#cartKiri").show();
            var qty1 = $("#qty1");
            qty1.text(parseInt(qty1.text()) + 1);

            // Update the total price on the right side
            var qty2 = $("#qty2");
            var harga = $("#harga");
            var totalPrice = parseFloat(qty2.text()) + itemDetails.price;
            qty2.text(totalPrice.toFixed(2));
            var angka = parseFloat(harga.text()) + itemDetails.price;
            harga.text(angka.toFixed(2));

            // Add the item to the cart list on the left side
            
            var cartKiri = $("#cartKiri");
            listItem.append($("<p>").text("Nama Barang: " + itemDetails.name)); 
            css("text-align", "start").text(itemName);
            cartKiri.append($("<button>").addClass("btn-danger").attr("id", "btnRemove").text("Del")); // Add remove button
            
            cartKiri.append(listItem);
        });
        $("#item1").click(function () {
        // Change the text to the item name
        $("#cartKiri p:first-child").text("Hot Dog Special");
        });
    });
</script>


<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous"
        >
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        <title>STARBHAK MART</title>
    </head>
    <body>
        <!-- navbar -->
        <nav class="navbar navbar-dark bg-primary">
            <div class="container-fluid">
                <nav class="navbar navbar-dark bg-primary">
                    <h6 class="navbar-brand">Starbhak mart</h6>
                </nav>
            </div>
        </nav>
        <br>
        <!-- list -->
        <div class="container-fluid d-flex" style="margin-top: -1%;">
            <div class="card-group" style="width: 20rem; margin-left: 1rem;">
                <select class="form-select bg-primary" style="text-align-last: center; color: white; font-weight: bold">
                    <option>Take away</option>
                    <option>COD</option>
                </select>
                <div class="d-grid gap-2 col-12" style="margin-top: 1rem; font-weight: bold;">
                    <button class="btn btn-primary" type="button">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="35"
                            height="20"
                            fill="currentColor"
                            class="bi bi-emoji-heart-eyes"
                            viewBox="0 0 16 16"
                        >
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M11.315 10.014a.5.5 0 0 1 .548.736A4.498 4.498 0 0 1 7.965 13a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .548-.736h.005l.017.005.067.015.252.055c.215.046.515.108.857.169.693.124 1.522.242 2.152.242.63 0 1.46-.118 2.152-.242a26.58 26.58 0 0 0 1.109-.224l.067-.015.017-.004.005-.002zM4.756 4.566c.763-1.424 4.02-.12.952 3.434-4.496-1.596-2.35-4.298-.952-3.434zm6.488 0c1.398-.864 3.544 1.838-.952 3.434-3.067-3.554.19-4.858.952-3.434z"/>
                        </svg>
                        MOZY
                    </button>
                </div>
                <div class="card-body" style="width: 100%; padding-bottom: 80%; background-color: #ccc;">
                    <ul id="cartKiri" class="list-group list-group-item border-dark" style="list-style: none; text-align: start;">
                        <p>Ini Barang</p>
                        <p>Jumlah :<span id="qty1">0</span> 
                        </p>
                        <button id="btnRemove" class="btn-danger" type="submit" style="width: 40px; margin-left: 80%; margin-top: 1px;">Del</button>
                    </ul>
                </div>
                
                <div class="card" style="width: 20rem; margin-top: -3%;">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            Harga : Rp.
                            <span id="harga">0.00</span>
                        </li>
                        <li class="list-group-item bg-primary text-white">
                            Total : $
                            <span id="qty2">0.00</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card" style="width: 80%">
                <div class="card-header ">Item List</div>
                <div class="card-body bg-secondary">
                    <div class="row">
                        <div class="col-2">
                            <div class="card" id="item1">
                                <div class="card-body">
                                    <img class="card-img-top" src="img/hotdog.jpg" alt="Card image cap">
                                    <p class="card-text" id="name1">Hot dog special</p>
                                    <p class="card-text fw-bold fs-6">Rp.40.000</p>
                                    <button id="btnAdd" class="btn-dark" type="submit">Beli</button>
                                </div>
                            </div>
                        </div>

                        <div class="col-2">
                            <div class="card" id="item2">
                                <div class="card-body">
                                    <img class="card-img-top" src="img/2.jpg" alt="Card image cap">
                                    <p class="card-text" id="name2">Corn Dog</p>
                                    <p class="card-text fw-bold fs-5" id="harga-produk">Rp.20.000</p>
                                    <button id="btnBeli" class="btn-dark" type="submit">Beli</button>
                                </div>
                            </div>
                        </div>

                        <div class="col-2">
                            <div class="card">
                                <div class="card-body">
                                    <img class="card-img-top" src="img/3.jpg" alt="Card image cap">
                                    <p class="card-text" id="name3">kebab</p>
                                    <p class="card-text fw-bold fs-5">Rp.40.000</p>
                                    <button class="btn-dark" type="submit">Beli</button>
                                </div>
                            </div>
                        </div>

                        <div class="col-2">
                            <div class="card">
                                <div class="card-body">
                                    <img class="card-img-top" src="img/4.jpg" alt="Card image cap">
                                    <p class="card-text" name="4"></p>
                                    <p class="card-text fw-bold fs-5">Rp.40.000</p>
                                    <button class="btn-dark" type="submit">Beli</button>
                                </div>
                            </div>
                        </div>
                        
            <script src="index.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
            <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
           
        </body>

        <script>
            $(document).ready(function () {
                $("#cartKiri").hide();
                
                // Add to cart button click event
                $('.btnAdd').on('click', function () {
                    // Get the relevant information from the selected item
                    var cardBody = $(this).closest('.card-body');
                    var itemName = cardBody.find('.name').text();
                    var itemPrice = parseFloat(cardBody.find('.price').text().replace('Rp.', '').replace(',', ''));
    
                    
                    // Update the cart on the left side
                    var cartKiri = $('#cartKiri');
                    var listItem = $(
                        '<li class="d-flex align-items-center justify-content-between border border-black px-3 py-2 bg-light border border-dark">' +
                                        '<div class="isiCard">' +
                                            '<p>' + itemName + '</p>' +
                                            '<p>Jumlah :<span class="qty">1</span> </p>' +
                                        '</div>' +
                                        '<button class="btn-danger btnRemove" type="button">Del</button>' + 
                                        '</li'
                                    );
                    
                    // Check if the item is already in the cart
                    var existingItem = cartKiri.find('li:contains("' + itemName + '")');
                    if (existingItem.length) {
                        var qtyElement = existingItem.find('.qty');
                        var newQty = parseInt(qtyElement.text()) + 1;
                        qtyElement.text(newQty);
                    } else {
                        cartKiri.append(listItem);
                    }
                    $("#cartKiri").show();
                    // Update the total price on the right side
                    var hargaElement = $('#harga');
                    var qty2Element = $('#qty2');
                    var currentHarga = parseFloat(hargaElement.text().replace('Rp.', '').replace(',', ''));
                    var currentQty2 = parseFloat(qty2Element.text().replace('Rp.', '').replace(',', ''));
    
                    hargaElement.text('Rp.' + (currentHarga + itemPrice).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,'));
                    qty2Element.text('Rp.' + (currentQty2 + itemPrice).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,'));
    
                });
    
                // Remove from cart button click event
                $('#cartKiri').on('click', '.btnRemove', function () {
                    var listItem = $(this).closest('li');
                    var itemName = listItem.find('.isiCard p:first-child').text();
                    var itemPrice = parseFloat(listItem.find('.price').text().replace('Rp.', '').replace(',', ''));
    
                    // Update the total price on the right side
                    var hargaElement = $('#harga');
                    var qty2Element = $('#qty2');
                    var currentHarga = parseFloat(hargaElement.text().replace('Rp.', '').replace(',', ''));
                    var currentQty2 = parseFloat(qty2Element.text().replace('Rp.', '').replace(',', ''));
    
                    hargaElement.text('Rp.' + (currentHarga - itemPrice).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,'));
                    qty2Element.text('Rp.' + (currentQty2 - itemPrice).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,'));
    
                    // Remove the item from the cart
                    listItem.remove();
                });
            });
            </script>
    </html>


    <script>
        $(document).ready(function () {
        // Cart data
        var cartItems = [];
        var totalHarga = 0;
    
        // Update cart view
        function updateCartView() {
            var cartKiri = $("#cartKiri");
            cartKiri.empty();
    
            cartItems.forEach(function (item) {
                var listItem = $("<li>").addClass("d-flex align-items-center justify-content-between border border-black px-3 py-2");
                var itemName = $("<div>").text(item.name);
                var itemPrice = $("<div>").text("Rp." + item.price);
                listItem.append(itemName, itemPrice);
                cartKiri.append(listItem);
            });
    
            $("#harga").text(totalHarga.toFixed(2));
            $("#qty2").text(totalHarga.toFixed(2));
        }
    
        // Function to handle the "Beli" button click
        $(".btnAdd").click(function () {
            var card = $(this).closest(".card-body");
            var itemId = card.data("id");
            var itemName = card.find(".name").text();
            var itemPrice = parseFloat(card.find(".price").text().replace("Rp.", "").replace(",", ""));
    
            // Add item to the cart
            cartItems.push({
                id: itemId,
                name: itemName,
                price: itemPrice,
            });
    
            // Update total price
            totalHarga += itemPrice;
    
            // Update the cart view
            updateCartView();
        });
    
        $(document).on("click", ".btnDelete", function () {
            var itemId = $(this).data("id");
    
            // Remove item from the cart
            var removedItem = cartItems.find(function (item) {
                return item.id === itemId;
            });
    
            if (removedItem) {
                totalHarga -= removedItem.price;
                cartItems = cartItems.filter(function (item) {
                    return item.id !== itemId;
                });
    
                // Update the cart view
                updateCartView();
            }
        });
    
        // Function to handle the "MOZY" button click
    });
    
    </script>